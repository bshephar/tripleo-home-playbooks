- block:
  - name: create ovn mac address for Standalone role nodes
    tripleo_ovn_mac_addresses:
      ovn_bridge_mappings:
      - datacentre:br-ex
      ovn_static_bridge_mac_mappings: {}
      playbook_dir: '{{ playbook_dir }}'
      role_name: Standalone
      server_resource_names: '{{ groups["Standalone"] }}'
      stack_name: overcloud
  name: ovn_controller_external_deploy_init
  when:
  - step|int == 0
- block:
  - name: create ovn_dbs virtual ip
    tripleo_service_vip:
      fixed_ips:
      - subnet: internal_api_subnet
      network: internal_api
      playbook_dir: '{{ playbook_dir }}'
      service_name: ovn_dbs
      stack_name: overcloud
  name: ovn_external_deploy_init
  when:
  - step|int == 0
- block:
  - name: create redis virtual ip
    tripleo_service_vip:
      fixed_ips:
      - subnet: internal_api_subnet
      network: internal_api
      playbook_dir: '{{ playbook_dir }}'
      service_name: redis
      stack_name: overcloud
  name: redis_external_deploy_init
  when:
  - step|int == 0
