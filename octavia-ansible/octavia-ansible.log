2022-07-05 06:01:06,557 p=418184 u=root n=ansible | PLAY [Undercloud[0]] ***********************************************************
2022-07-05 06:01:06,570 p=418184 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:01:11,672 p=418184 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:01:11,707 p=418184 u=root n=ansible | TASK [octavia_undercloud : set file if already set by heat variable (backwards-compatibility)] ***
2022-07-05 06:01:11,754 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:11,767 p=418184 u=root n=ansible | TASK [octavia_undercloud : set location if CentOS] *****************************
2022-07-05 06:01:11,802 p=418184 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:01:11,815 p=418184 u=root n=ansible | TASK [octavia_undercloud : set location if Red Hat] ****************************
2022-07-05 06:01:11,830 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:11,843 p=418184 u=root n=ansible | TASK [octavia_undercloud : check if amphora image file exists] *****************
2022-07-05 06:01:12,165 p=418184 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:01:12,178 p=418184 u=root n=ansible | TASK [octavia_undercloud : include_tasks] **************************************
2022-07-05 06:01:12,202 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:12,216 p=418184 u=root n=ansible | TASK [octavia_undercloud : check if pub key file exists] ***********************
2022-07-05 06:01:12,243 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:12,262 p=418184 u=root n=ansible | TASK [octavia_undercloud : fail if ssh pub key file does not exist or is not readable] ***
2022-07-05 06:01:12,296 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:12,314 p=418184 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 06:01:12,348 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:12,365 p=418184 u=root n=ansible | TASK [octavia_undercloud : Create ssh key dir] *********************************
2022-07-05 06:01:12,754 p=418184 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:01:12,764 p=418184 u=root n=ansible | TASK [octavia_undercloud : Generate ssh key for Octavia] ***********************
2022-07-05 06:01:13,811 p=418184 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:01:13,820 p=418184 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 06:01:13,882 p=418184 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:01:13,891 p=418184 u=root n=ansible | TASK [octavia_undercloud : get the desired sha-256 public key fingerprint] *****
2022-07-05 06:01:14,097 p=418184 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:01:14,116 p=418184 u=root n=ansible | TASK [octavia_undercloud : get existing public key sha-256 fingerprint] ********
2022-07-05 06:01:18,674 p=418184 u=root n=ansible | fatal: [tripleo-director]: FAILED! => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
2022-07-05 06:01:18,674 p=418184 u=root n=ansible | ...ignoring
2022-07-05 06:01:18,684 p=418184 u=root n=ansible | TASK [octavia_undercloud : delete previous Octavia ssh key] ********************
2022-07-05 06:01:18,727 p=418184 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:01:18,745 p=418184 u=root n=ansible | TASK [octavia_undercloud : Create keypair] *************************************
2022-07-05 06:01:21,433 p=418184 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:01:21,487 p=418184 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 06:01:21,497 p=418184 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:01:27,619 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:27,692 p=418184 u=root n=ansible | TASK [include_role : octavia_controller_check] *********************************
2022-07-05 06:01:27,786 p=418184 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA file exists on host] ******
2022-07-05 06:01:28,362 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:28,390 p=418184 u=root n=ansible | TASK [octavia_controller_check : Get CA file if exists] ************************
2022-07-05 06:01:28,437 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:28,467 p=418184 u=root n=ansible | TASK [octavia_controller_check : Store CA data] ********************************
2022-07-05 06:01:28,515 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:28,547 p=418184 u=root n=ansible | TASK [octavia_controller_check : Get remaining validity period of the CA] ******
2022-07-05 06:01:28,579 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:28,608 p=418184 u=root n=ansible | TASK [octavia_controller_check : Force CA update if remaining validity is less than 1 year] ***
2022-07-05 06:01:28,653 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:28,674 p=418184 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA private key exists on host] ***
2022-07-05 06:01:29,183 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:29,212 p=418184 u=root n=ansible | TASK [octavia_controller_check : Get CA private key file if exists] ************
2022-07-05 06:01:29,255 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:29,283 p=418184 u=root n=ansible | TASK [octavia_controller_check : Store CA private key] *************************
2022-07-05 06:01:29,327 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:29,355 p=418184 u=root n=ansible | TASK [octavia_controller_check : Detect if key is encrypted with AES256] *******
2022-07-05 06:01:29,398 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:29,430 p=418184 u=root n=ansible | TASK [octavia_controller_check : Store flag if a private key update is required] ***
2022-07-05 06:01:29,471 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:29,504 p=418184 u=root n=ansible | TASK [octavia_controller_check : Check if octavia client certificate exists on host] ***
2022-07-05 06:01:30,020 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:30,052 p=418184 u=root n=ansible | TASK [octavia_controller_check : Get client certificate file if exists] ********
2022-07-05 06:01:30,097 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:30,129 p=418184 u=root n=ansible | TASK [octavia_controller_check : Store client certificate data] ****************
2022-07-05 06:01:30,174 p=418184 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:01:30,247 p=418184 u=root n=ansible | PLAY [octavia_nodes[0]] ********************************************************
2022-07-05 06:01:30,267 p=418184 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:01:35,710 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:35,770 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 06:01:35,803 p=418184 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/network.yml for overcloud-controller-0
2022-07-05 06:01:35,821 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : create management network for load balancers] ***
2022-07-05 06:01:46,104 p=418184 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:01:46,132 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : getting management network ID] ****************
2022-07-05 06:01:49,779 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:49,809 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : setting management network ID fact] ***********
2022-07-05 06:01:49,849 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:01:49,879 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : create subnet] ********************************
2022-07-05 06:01:56,380 p=418184 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:01:56,408 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : create security group (get the security group id)] ***
2022-07-05 06:02:02,461 p=418184 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:02:02,488 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : setting fact for management network security group] ***
2022-07-05 06:02:02,532 p=418184 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:02:02,560 p=418184 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management ssh port] ***
2022-07-05 06:04:08,635 p=418184 u=root n=ansible | fatal: [overcloud-controller-0]: FAILED! => {"changed": false, "cmd": "set -o pipefail\nSECGROUP=\"$(openstack security group rule list lb-mgmt-sec-grp --protocol tcp \\\n                                                                          --ingress -f value 2>&1 | grep \"0.0.0.0/0 22:22\")\"\nif [[ -z \"${SECGROUP}\" ]]; then\n  openstack security group rule create --protocol tcp --dst-port 22 lb-mgmt-sec-grp\nfi", "delta": "0:02:05.490805", "end": "2022-07-05 10:04:08.539602", "msg": "non-zero return code", "rc": 1, "start": "2022-07-05 10:02:03.048797", "stderr": "Error while executing command: HttpException: 504, The server didn't respond in time.: 504 Gateway Time-out", "stderr_lines": ["Error while executing command: HttpException: 504, The server didn't respond in time.: 504 Gateway Time-out"], "stdout": "", "stdout_lines": []}
2022-07-05 06:04:08,637 p=418184 u=root n=ansible | PLAY RECAP *********************************************************************
2022-07-05 06:04:08,637 p=418184 u=root n=ansible | overcloud-controller-0     : ok=12   changed=3    unreachable=0    failed=1    skipped=10   rescued=0    ignored=0   
2022-07-05 06:04:08,637 p=418184 u=root n=ansible | tripleo-director           : ok=9    changed=5    unreachable=0    failed=0    skipped=7    rescued=0    ignored=1   
2022-07-05 06:38:34,876 p=451784 u=root n=ansible | PLAY [Undercloud[0]] ***********************************************************
2022-07-05 06:38:34,889 p=451784 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:38:40,114 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:40,167 p=451784 u=root n=ansible | TASK [octavia_undercloud : set file if already set by heat variable (backwards-compatibility)] ***
2022-07-05 06:38:40,214 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,232 p=451784 u=root n=ansible | TASK [octavia_undercloud : set location if CentOS] *****************************
2022-07-05 06:38:40,268 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:40,287 p=451784 u=root n=ansible | TASK [octavia_undercloud : set location if Red Hat] ****************************
2022-07-05 06:38:40,303 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,322 p=451784 u=root n=ansible | TASK [octavia_undercloud : check if amphora image file exists] *****************
2022-07-05 06:38:40,636 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:40,655 p=451784 u=root n=ansible | TASK [octavia_undercloud : include_tasks] **************************************
2022-07-05 06:38:40,685 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,699 p=451784 u=root n=ansible | TASK [octavia_undercloud : check if pub key file exists] ***********************
2022-07-05 06:38:40,728 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,738 p=451784 u=root n=ansible | TASK [octavia_undercloud : fail if ssh pub key file does not exist or is not readable] ***
2022-07-05 06:38:40,769 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,782 p=451784 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 06:38:40,816 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:40,827 p=451784 u=root n=ansible | TASK [octavia_undercloud : Create ssh key dir] *********************************
2022-07-05 06:38:41,167 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:41,185 p=451784 u=root n=ansible | TASK [octavia_undercloud : Generate ssh key for Octavia] ***********************
2022-07-05 06:38:41,516 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:41,526 p=451784 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 06:38:41,579 p=451784 u=root n=ansible | ok: [tripleo-director]
2022-07-05 06:38:41,588 p=451784 u=root n=ansible | TASK [octavia_undercloud : get the desired sha-256 public key fingerprint] *****
2022-07-05 06:38:41,797 p=451784 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:38:41,806 p=451784 u=root n=ansible | TASK [octavia_undercloud : get existing public key sha-256 fingerprint] ********
2022-07-05 06:38:45,073 p=451784 u=root n=ansible | changed: [tripleo-director]
2022-07-05 06:38:45,090 p=451784 u=root n=ansible | TASK [octavia_undercloud : delete previous Octavia ssh key] ********************
2022-07-05 06:38:45,136 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:45,154 p=451784 u=root n=ansible | TASK [octavia_undercloud : Create keypair] *************************************
2022-07-05 06:38:45,197 p=451784 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 06:38:45,250 p=451784 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 06:38:45,263 p=451784 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:38:51,163 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:38:51,231 p=451784 u=root n=ansible | TASK [include_role : octavia_controller_check] *********************************
2022-07-05 06:38:51,342 p=451784 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA file exists on host] ******
2022-07-05 06:38:51,873 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:38:51,900 p=451784 u=root n=ansible | TASK [octavia_controller_check : Get CA file if exists] ************************
2022-07-05 06:38:51,941 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:51,969 p=451784 u=root n=ansible | TASK [octavia_controller_check : Store CA data] ********************************
2022-07-05 06:38:52,012 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,039 p=451784 u=root n=ansible | TASK [octavia_controller_check : Get remaining validity period of the CA] ******
2022-07-05 06:38:52,083 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,112 p=451784 u=root n=ansible | TASK [octavia_controller_check : Force CA update if remaining validity is less than 1 year] ***
2022-07-05 06:38:52,155 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,186 p=451784 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA private key exists on host] ***
2022-07-05 06:38:52,695 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:38:52,723 p=451784 u=root n=ansible | TASK [octavia_controller_check : Get CA private key file if exists] ************
2022-07-05 06:38:52,765 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,792 p=451784 u=root n=ansible | TASK [octavia_controller_check : Store CA private key] *************************
2022-07-05 06:38:52,835 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,863 p=451784 u=root n=ansible | TASK [octavia_controller_check : Detect if key is encrypted with AES256] *******
2022-07-05 06:38:52,906 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:52,935 p=451784 u=root n=ansible | TASK [octavia_controller_check : Store flag if a private key update is required] ***
2022-07-05 06:38:52,977 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:53,005 p=451784 u=root n=ansible | TASK [octavia_controller_check : Check if octavia client certificate exists on host] ***
2022-07-05 06:38:53,520 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:38:53,551 p=451784 u=root n=ansible | TASK [octavia_controller_check : Get client certificate file if exists] ********
2022-07-05 06:38:53,591 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:53,620 p=451784 u=root n=ansible | TASK [octavia_controller_check : Store client certificate data] ****************
2022-07-05 06:38:53,661 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:38:53,730 p=451784 u=root n=ansible | PLAY [octavia_nodes[0]] ********************************************************
2022-07-05 06:38:53,747 p=451784 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:38:59,404 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:38:59,477 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 06:38:59,511 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/network.yml for overcloud-controller-0
2022-07-05 06:38:59,542 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create management network for load balancers] ***
2022-07-05 06:39:03,168 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:03,201 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : getting management network ID] ****************
2022-07-05 06:39:06,565 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:06,596 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : setting management network ID fact] ***********
2022-07-05 06:39:06,674 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:06,689 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create subnet] ********************************
2022-07-05 06:39:12,826 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:12,853 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group (get the security group id)] ***
2022-07-05 06:39:17,418 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:17,448 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : setting fact for management network security group] ***
2022-07-05 06:39:17,488 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:17,518 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management ssh port] ***
2022-07-05 06:39:20,800 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:20,828 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management API port] ***
2022-07-05 06:39:26,232 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:26,261 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group for health manager] *****
2022-07-05 06:39:32,411 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:32,444 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for health manager] ***
2022-07-05 06:39:37,260 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:37,290 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for log offloading] ***
2022-07-05 06:39:40,261 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:40,291 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 06:39:40,330 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/quotas.yml for overcloud-controller-0
2022-07-05 06:39:40,352 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : increase quotas for project used for amphora] ***
2022-07-05 06:39:43,904 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:43,933 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 06:39:43,973 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/flavor.yml for overcloud-controller-0
2022-07-05 06:39:44,000 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create nova flavor for Octavia] ***************
2022-07-05 06:39:49,232 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:49,263 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : gather all of the CAs] ************************
2022-07-05 06:39:49,423 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:49,452 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : count unique CAs and keys] ********************
2022-07-05 06:39:49,485 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,516 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : fail if CA or private key do not match in all Octavia nodes] ***
2022-07-05 06:39:49,558 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,588 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : fail if the number of CA and private key doesn't match] ***
2022-07-05 06:39:49,635 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,664 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : record cert so others can use it] *************
2022-07-05 06:39:49,764 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,783 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : disable CA generation] ************************
2022-07-05 06:39:49,830 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,849 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : don't update certificates if CA is present on all octavia nodes] ***
2022-07-05 06:39:49,895 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:49,923 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 06:39:50,025 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml for overcloud-controller-0
2022-07-05 06:39:50,053 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : delete temporary ssl directory] ***************
2022-07-05 06:39:50,574 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:50,603 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl directories] *************
2022-07-05 06:39:51,126 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:51,154 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl newcerts directory] ******
2022-07-05 06:39:51,706 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:51,736 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create index.txt] *****************************
2022-07-05 06:39:52,942 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:52,971 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create serial file] ***************************
2022-07-05 06:39:53,996 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:54,025 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : create openssl configuration file from template] ***
2022-07-05 06:39:54,989 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:55,017 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority private key] ***
2022-07-05 06:39:56,618 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:56,647 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 06:39:56,693 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:56,713 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 06:39:56,754 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:56,768 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Update CA private key] ************************
2022-07-05 06:39:56,810 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:39:56,839 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Reading private key] **************************
2022-07-05 06:39:57,411 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:57,441 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Setting private key fact] *********************
2022-07-05 06:39:57,530 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:57,558 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority certificate] ***
2022-07-05 06:39:58,124 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:58,151 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Reading CA certificate] ***********************
2022-07-05 06:39:58,745 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:58,768 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Setting CA certificate fact] ******************
2022-07-05 06:39:58,817 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:39:58,843 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Generating service private key & certificate request] ***
2022-07-05 06:39:59,802 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:39:59,829 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Signing service certificate request] **********
2022-07-05 06:40:00,430 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:00,460 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Read service private key and public certifcate] ***
2022-07-05 06:40:01,007 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:01,027 p=451784 u=root n=ansible | TASK [octavia_overcloud_config : Set service key fact] *************************
2022-07-05 06:40:01,052 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:01,115 p=451784 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 06:40:01,137 p=451784 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:40:07,023 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:07,070 p=451784 u=root n=ansible | TASK [octavia_controller_config : Set node name fact] **************************
2022-07-05 06:40:07,136 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:07,170 p=451784 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 06:40:07,281 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/certificate.yml for overcloud-controller-0
2022-07-05 06:40:07,296 p=451784 u=root n=ansible | TASK [octavia_controller_config : making sure octavia worker configuration directory exists] ***
2022-07-05 06:40:07,844 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:07,872 p=451784 u=root n=ansible | TASK [octavia_controller_config : Copying key info to octavia if not already there] ***
2022-07-05 06:40:08,923 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 06:40:09,893 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 06:40:10,857 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 06:40:10,859 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:10,875 p=451784 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 06:40:10,904 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netport.yml for overcloud-controller-0
2022-07-05 06:40:10,920 p=451784 u=root n=ansible | TASK [octavia_controller_config : create management port] **********************
2022-07-05 06:40:16,525 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:16,553 p=451784 u=root n=ansible | TASK [octavia_controller_config : getting management port] *********************
2022-07-05 06:40:19,186 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:19,214 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port ID] ***
2022-07-05 06:40:19,254 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:19,285 p=451784 u=root n=ansible | TASK [octavia_controller_config : get management port mac] *********************
2022-07-05 06:40:21,742 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:21,771 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port MAC] ***
2022-07-05 06:40:21,850 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:21,878 p=451784 u=root n=ansible | TASK [octavia_controller_config : get fixed ip info] ***************************
2022-07-05 06:40:24,408 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:24,436 p=451784 u=root n=ansible | TASK [octavia_controller_config : get management port detail result] ***********
2022-07-05 06:40:24,517 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:24,546 p=451784 u=root n=ansible | TASK [octavia_controller_config : parse management port details] ***************
2022-07-05 06:40:24,648 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:24,675 p=451784 u=root n=ansible | TASK [octavia_controller_config : get management port net mask] ****************
2022-07-05 06:40:27,219 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:27,249 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting fact for management subnet cidr] *****
2022-07-05 06:40:27,292 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:27,321 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network netmask] ***
2022-07-05 06:40:27,406 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:27,437 p=451784 u=root n=ansible | TASK [octavia_controller_config : get MTU for management port] *****************
2022-07-05 06:40:29,888 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:29,903 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting fact for management port MTU] ********
2022-07-05 06:40:29,931 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:29,946 p=451784 u=root n=ansible | TASK [octavia_controller_config : creating fact for management network health manager controller IP] ***
2022-07-05 06:40:29,972 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:29,988 p=451784 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 06:40:30,013 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netinterface.yml for overcloud-controller-0
2022-07-05 06:40:30,036 p=451784 u=root n=ansible | TASK [octavia_controller_config : create br-int interface file] ****************
2022-07-05 06:40:31,052 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:31,068 p=451784 u=root n=ansible | TASK [octavia_controller_config : create octavia management interface] *********
2022-07-05 06:40:32,047 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:32,086 p=451784 u=root n=ansible | TASK [octavia_controller_config : Bring the management port interface up] ******
2022-07-05 06:40:35,871 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:35,899 p=451784 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 06:40:35,947 p=451784 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/octavia.yml for overcloud-controller-0
2022-07-05 06:40:35,965 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_boot_network_list] ***
2022-07-05 06:40:36,702 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:36,730 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_secgroup_list] ***
2022-07-05 06:40:37,265 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:37,294 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting [health_manager]/bind_ip] ************
2022-07-05 06:40:37,896 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:37,924 p=451784 u=root n=ansible | TASK [octavia_controller_config : gather facts about the service project] ******
2022-07-05 06:40:40,729 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:40,759 p=451784 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_image_owner_id] ***
2022-07-05 06:40:41,295 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:41,349 p=451784 u=root n=ansible | RUNNING HANDLER [octavia_controller_config : octavia config updated] ***********
2022-07-05 06:40:41,405 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:41,433 p=451784 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 06:40:41,465 p=451784 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 06:40:46,865 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:46,928 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : Show debug information] *****************
2022-07-05 06:40:46,967 p=451784 u=root n=ansible | ok: [overcloud-controller-0] => {
    "msg": "Octavia services will be restarted because of updated configuration"
}
2022-07-05 06:40:46,987 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create ip list] *************************
2022-07-05 06:40:47,082 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:47,112 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters)] ***
2022-07-05 06:40:47,134 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:47,163 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (rsyslog)] ***************
2022-07-05 06:40:47,276 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:47,304 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters) (rsyslog)] ***
2022-07-05 06:40:47,381 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:47,410 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create /etc/rsyslog.d] ******************
2022-07-05 06:40:47,969 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:47,998 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : create rsyslog 10-octavia.conf] *********
2022-07-05 06:40:48,993 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:49,023 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : check if octavia rsyslog is running] ****
2022-07-05 06:40:49,639 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:49,666 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia rsyslog service] ********
2022-07-05 06:40:52,175 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:52,207 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : read the current IP list] ***************
2022-07-05 06:40:52,735 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:52,767 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : retrieve current ip list] ***************
2022-07-05 06:40:52,841 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:52,859 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : check if ip list needs updating] ********
2022-07-05 06:40:52,883 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:40:52,901 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : setting [health_manager]/controller_ip_port_list] ***
2022-07-05 06:40:53,421 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:53,458 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/tenant_log_targets] ***
2022-07-05 06:40:54,042 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:54,077 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/admin_log_targets] ***
2022-07-05 06:40:54,638 p=451784 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 06:40:54,671 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia services] ***
2022-07-05 06:40:55,209 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_api)
2022-07-05 06:40:55,732 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_worker)
2022-07-05 06:40:56,226 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_health_manager)
2022-07-05 06:40:56,723 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_housekeeping)
2022-07-05 06:40:57,211 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_driver_agent)
2022-07-05 06:40:57,241 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia services] ***************
2022-07-05 06:41:01,742 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_api', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', 'start': '2022-07-05 10:40:55.136226', 'end': '2022-07-05 10:40:55.149139', 'delta': '0:00:00.012913', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_api'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_api', 'ansible_loop_var': 'item'})
2022-07-05 06:41:04,207 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_worker', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', 'start': '2022-07-05 10:40:55.662986', 'end': '2022-07-05 10:40:55.673883', 'delta': '0:00:00.010897', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_worker'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_worker', 'ansible_loop_var': 'item'})
2022-07-05 06:41:05,975 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_health_manager', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', 'start': '2022-07-05 10:40:56.152197', 'end': '2022-07-05 10:40:56.165640', 'delta': '0:00:00.013443', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_health_manager'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_health_manager', 'ansible_loop_var': 'item'})
2022-07-05 06:41:07,851 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_housekeeping', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', 'start': '2022-07-05 10:40:56.650531', 'end': '2022-07-05 10:40:56.662308', 'delta': '0:00:00.011777', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_housekeeping'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_housekeeping', 'ansible_loop_var': 'item'})
2022-07-05 06:41:51,576 p=451784 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_driver_agent', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', 'start': '2022-07-05 10:40:57.143143', 'end': '2022-07-05 10:40:57.155847', 'delta': '0:00:00.012704', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_driver_agent'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_driver_agent', 'ansible_loop_var': 'item'})
2022-07-05 06:41:51,618 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia containers] ***
2022-07-05 06:41:51,632 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:41:51,662 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia containers] *************
2022-07-05 06:41:51,675 p=451784 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 06:41:51,692 p=451784 u=root n=ansible | TASK [octavia_controller_post_config : remove directory /etc/octavia/conf.d/common (LP#1836074)] ***
2022-07-05 06:41:52,214 p=451784 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 06:41:52,297 p=451784 u=root n=ansible | PLAY RECAP *********************************************************************
2022-07-05 06:41:52,297 p=451784 u=root n=ansible | overcloud-controller-0     : ok=89   changed=42   unreachable=0    failed=0    skipped=21   rescued=0    ignored=0   
2022-07-05 06:41:52,297 p=451784 u=root n=ansible | tripleo-director           : ok=8    changed=2    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2022-07-05 11:20:39,593 p=30987 u=root n=ansible | PLAY [Undercloud[0]] ***********************************************************
2022-07-05 11:20:39,628 p=30987 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 11:20:45,755 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:45,805 p=30987 u=root n=ansible | TASK [octavia_undercloud : set file if already set by heat variable (backwards-compatibility)] ***
2022-07-05 11:20:45,851 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:45,868 p=30987 u=root n=ansible | TASK [octavia_undercloud : set location if CentOS] *****************************
2022-07-05 11:20:45,902 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:45,919 p=30987 u=root n=ansible | TASK [octavia_undercloud : set location if Red Hat] ****************************
2022-07-05 11:20:45,933 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:45,951 p=30987 u=root n=ansible | TASK [octavia_undercloud : check if amphora image file exists] *****************
2022-07-05 11:20:46,247 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:46,264 p=30987 u=root n=ansible | TASK [octavia_undercloud : include_tasks] **************************************
2022-07-05 11:20:46,287 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:46,304 p=30987 u=root n=ansible | TASK [octavia_undercloud : check if pub key file exists] ***********************
2022-07-05 11:20:46,338 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:46,355 p=30987 u=root n=ansible | TASK [octavia_undercloud : fail if ssh pub key file does not exist or is not readable] ***
2022-07-05 11:20:46,403 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:46,418 p=30987 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 11:20:46,450 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:46,468 p=30987 u=root n=ansible | TASK [octavia_undercloud : Create ssh key dir] *********************************
2022-07-05 11:20:46,791 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:46,815 p=30987 u=root n=ansible | TASK [octavia_undercloud : Generate ssh key for Octavia] ***********************
2022-07-05 11:20:47,137 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:47,147 p=30987 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 11:20:47,182 p=30987 u=root n=ansible | ok: [tripleo-director]
2022-07-05 11:20:47,193 p=30987 u=root n=ansible | TASK [octavia_undercloud : get the desired sha-256 public key fingerprint] *****
2022-07-05 11:20:47,391 p=30987 u=root n=ansible | changed: [tripleo-director]
2022-07-05 11:20:47,402 p=30987 u=root n=ansible | TASK [octavia_undercloud : get existing public key sha-256 fingerprint] ********
2022-07-05 11:20:50,111 p=30987 u=root n=ansible | changed: [tripleo-director]
2022-07-05 11:20:50,121 p=30987 u=root n=ansible | TASK [octavia_undercloud : delete previous Octavia ssh key] ********************
2022-07-05 11:20:50,164 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:50,181 p=30987 u=root n=ansible | TASK [octavia_undercloud : Create keypair] *************************************
2022-07-05 11:20:50,222 p=30987 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 11:20:50,272 p=30987 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 11:20:50,283 p=30987 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 11:20:56,824 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:20:56,896 p=30987 u=root n=ansible | TASK [include_role : octavia_controller_check] *********************************
2022-07-05 11:20:57,002 p=30987 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA file exists on host] ******
2022-07-05 11:20:57,655 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:20:57,682 p=30987 u=root n=ansible | TASK [octavia_controller_check : Get CA file if exists] ************************
2022-07-05 11:20:58,480 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:20:58,511 p=30987 u=root n=ansible | TASK [octavia_controller_check : Store CA data] ********************************
2022-07-05 11:20:58,583 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:20:58,602 p=30987 u=root n=ansible | TASK [octavia_controller_check : Get remaining validity period of the CA] ******
2022-07-05 11:20:59,365 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:20:59,393 p=30987 u=root n=ansible | TASK [octavia_controller_check : Force CA update if remaining validity is less than 1 year] ***
2022-07-05 11:20:59,441 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:20:59,456 p=30987 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA private key exists on host] ***
2022-07-05 11:21:00,093 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:00,122 p=30987 u=root n=ansible | TASK [octavia_controller_check : Get CA private key file if exists] ************
2022-07-05 11:21:00,782 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:00,809 p=30987 u=root n=ansible | TASK [octavia_controller_check : Store CA private key] *************************
2022-07-05 11:21:00,901 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:00,928 p=30987 u=root n=ansible | TASK [octavia_controller_check : Detect if key is encrypted with AES256] *******
2022-07-05 11:21:01,597 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:01,624 p=30987 u=root n=ansible | TASK [octavia_controller_check : Store flag if a private key update is required] ***
2022-07-05 11:21:01,721 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:01,754 p=30987 u=root n=ansible | TASK [octavia_controller_check : Check if octavia client certificate exists on host] ***
2022-07-05 11:21:02,480 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:02,514 p=30987 u=root n=ansible | TASK [octavia_controller_check : Get client certificate file if exists] ********
2022-07-05 11:21:03,165 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:03,193 p=30987 u=root n=ansible | TASK [octavia_controller_check : Store client certificate data] ****************
2022-07-05 11:21:03,254 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:03,328 p=30987 u=root n=ansible | PLAY [octavia_nodes[0]] ********************************************************
2022-07-05 11:21:03,345 p=30987 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 11:21:09,456 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:09,539 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 11:21:09,574 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/network.yml for overcloud-controller-0
2022-07-05 11:21:09,592 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create management network for load balancers] ***
2022-07-05 11:21:12,325 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:12,353 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : getting management network ID] ****************
2022-07-05 11:21:14,719 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:14,748 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : setting management network ID fact] ***********
2022-07-05 11:21:14,795 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:14,811 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create subnet] ********************************
2022-07-05 11:21:19,065 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:19,093 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group (get the security group id)] ***
2022-07-05 11:21:23,653 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:23,680 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : setting fact for management network security group] ***
2022-07-05 11:21:23,718 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:23,746 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management ssh port] ***
2022-07-05 11:21:26,092 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:26,119 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management API port] ***
2022-07-05 11:21:28,997 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:29,024 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group for health manager] *****
2022-07-05 11:21:33,547 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:33,574 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for health manager] ***
2022-07-05 11:21:35,903 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:35,931 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for log offloading] ***
2022-07-05 11:21:37,889 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:37,918 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 11:21:37,959 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/quotas.yml for overcloud-controller-0
2022-07-05 11:21:37,979 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : increase quotas for project used for amphora] ***
2022-07-05 11:21:40,936 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:40,963 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 11:21:41,003 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/flavor.yml for overcloud-controller-0
2022-07-05 11:21:41,034 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create nova flavor for Octavia] ***************
2022-07-05 11:21:44,137 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:44,165 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : gather all of the CAs] ************************
2022-07-05 11:21:44,282 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:44,296 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : count unique CAs and keys] ********************
2022-07-05 11:21:44,367 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:44,396 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : fail if CA or private key do not match in all Octavia nodes] ***
2022-07-05 11:21:44,430 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:21:44,458 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : fail if the number of CA and private key doesn't match] ***
2022-07-05 11:21:44,502 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:21:44,529 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : record cert so others can use it] *************
2022-07-05 11:21:44,593 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:44,622 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : disable CA generation] ************************
2022-07-05 11:21:44,682 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:44,711 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : don't update certificates if CA is present on all octavia nodes] ***
2022-07-05 11:21:44,769 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:21:44,797 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 11:21:44,884 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml for overcloud-controller-0
2022-07-05 11:21:44,910 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : delete temporary ssl directory] ***************
2022-07-05 11:21:45,592 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:45,620 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl directories] *************
2022-07-05 11:21:46,254 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:46,284 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl newcerts directory] ******
2022-07-05 11:21:46,987 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:47,015 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create index.txt] *****************************
2022-07-05 11:21:48,347 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:48,376 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create serial file] ***************************
2022-07-05 11:21:49,583 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:49,610 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : create openssl configuration file from template] ***
2022-07-05 11:21:50,893 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:50,921 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority private key] ***
2022-07-05 11:21:50,962 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:21:50,991 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 11:21:51,033 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:21:51,060 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 11:21:52,280 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:52,307 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Update CA private key] ************************
2022-07-05 11:21:52,991 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:53,018 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Reading private key] **************************
2022-07-05 11:21:53,651 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:53,691 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Setting private key fact] *********************
2022-07-05 11:21:53,729 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:21:53,757 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority certificate] ***
2022-07-05 11:21:54,422 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:21:54,450 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Reading CA certificate] ***********************
2022-07-05 11:22:46,288 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:22:46,319 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Setting CA certificate fact] ******************
2022-07-05 11:22:46,358 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:22:46,385 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Generating service private key & certificate request] ***
2022-07-05 11:22:47,461 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:22:47,489 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Signing service certificate request] **********
2022-07-05 11:22:48,148 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:22:48,177 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Read service private key and public certifcate] ***
2022-07-05 11:22:48,911 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:22:48,939 p=30987 u=root n=ansible | TASK [octavia_overcloud_config : Set service key fact] *************************
2022-07-05 11:22:48,977 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:22:49,047 p=30987 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 11:22:49,063 p=30987 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 11:22:55,158 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:22:55,221 p=30987 u=root n=ansible | TASK [octavia_controller_config : Set node name fact] **************************
2022-07-05 11:22:55,296 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:22:55,316 p=30987 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 11:22:55,373 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/certificate.yml for overcloud-controller-0
2022-07-05 11:22:55,392 p=30987 u=root n=ansible | TASK [octavia_controller_config : making sure octavia worker configuration directory exists] ***
2022-07-05 11:22:56,091 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:22:56,119 p=30987 u=root n=ansible | TASK [octavia_controller_config : Copying key info to octavia if not already there] ***
2022-07-05 11:22:57,426 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 11:22:58,697 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 11:23:00,002 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 11:23:00,006 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:00,044 p=30987 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 11:23:00,096 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netport.yml for overcloud-controller-0
2022-07-05 11:23:00,128 p=30987 u=root n=ansible | TASK [octavia_controller_config : create management port] **********************
2022-07-05 11:23:02,440 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:02,469 p=30987 u=root n=ansible | TASK [octavia_controller_config : getting management port] *********************
2022-07-05 11:23:04,703 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:04,733 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port ID] ***
2022-07-05 11:23:04,770 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:04,798 p=30987 u=root n=ansible | TASK [octavia_controller_config : get management port mac] *********************
2022-07-05 11:23:07,362 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:07,390 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port MAC] ***
2022-07-05 11:23:07,428 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:07,464 p=30987 u=root n=ansible | TASK [octavia_controller_config : get fixed ip info] ***************************
2022-07-05 11:23:09,746 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:09,777 p=30987 u=root n=ansible | TASK [octavia_controller_config : get management port detail result] ***********
2022-07-05 11:23:09,831 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:09,846 p=30987 u=root n=ansible | TASK [octavia_controller_config : parse management port details] ***************
2022-07-05 11:23:09,978 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:10,003 p=30987 u=root n=ansible | TASK [octavia_controller_config : get management port net mask] ****************
2022-07-05 11:23:12,357 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:12,384 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting fact for management subnet cidr] *****
2022-07-05 11:23:12,457 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:12,484 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network netmask] ***
2022-07-05 11:23:12,587 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:12,616 p=30987 u=root n=ansible | TASK [octavia_controller_config : get MTU for management port] *****************
2022-07-05 11:23:15,133 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:15,161 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting fact for management port MTU] ********
2022-07-05 11:23:15,198 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:15,226 p=30987 u=root n=ansible | TASK [octavia_controller_config : creating fact for management network health manager controller IP] ***
2022-07-05 11:23:15,297 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:15,325 p=30987 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 11:23:15,367 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netinterface.yml for overcloud-controller-0
2022-07-05 11:23:15,411 p=30987 u=root n=ansible | TASK [octavia_controller_config : create br-int interface file] ****************
2022-07-05 11:23:16,073 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:16,105 p=30987 u=root n=ansible | TASK [octavia_controller_config : create octavia management interface] *********
2022-07-05 11:23:17,314 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:17,346 p=30987 u=root n=ansible | TASK [octavia_controller_config : Bring the management port interface up] ******
2022-07-05 11:23:17,392 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:23:17,424 p=30987 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 11:23:17,483 p=30987 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/octavia.yml for overcloud-controller-0
2022-07-05 11:23:17,503 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_boot_network_list] ***
2022-07-05 11:23:18,282 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:18,309 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_secgroup_list] ***
2022-07-05 11:23:18,961 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:18,985 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting [health_manager]/bind_ip] ************
2022-07-05 11:23:19,609 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:19,637 p=30987 u=root n=ansible | TASK [octavia_controller_config : gather facts about the service project] ******
2022-07-05 11:23:21,856 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:21,888 p=30987 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_image_owner_id] ***
2022-07-05 11:23:22,532 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:22,588 p=30987 u=root n=ansible | RUNNING HANDLER [octavia_controller_config : octavia config updated] ***********
2022-07-05 11:23:22,643 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:22,665 p=30987 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 11:23:22,690 p=30987 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 11:23:28,784 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:28,846 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : Show debug information] *****************
2022-07-05 11:23:28,882 p=30987 u=root n=ansible | ok: [overcloud-controller-0] => {
    "msg": "Octavia services will be restarted because of updated configuration"
}
2022-07-05 11:23:28,901 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create ip list] *************************
2022-07-05 11:23:28,959 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:28,981 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters)] ***
2022-07-05 11:23:29,004 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:29,032 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (rsyslog)] ***************
2022-07-05 11:23:29,107 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:29,139 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters) (rsyslog)] ***
2022-07-05 11:23:29,189 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:29,217 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create /etc/rsyslog.d] ******************
2022-07-05 11:23:29,944 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:29,972 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : create rsyslog 10-octavia.conf] *********
2022-07-05 11:23:31,105 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:31,137 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : check if octavia rsyslog is running] ****
2022-07-05 11:23:31,826 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:31,857 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia rsyslog service] ********
2022-07-05 11:23:31,899 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:23:31,930 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : read the current IP list] ***************
2022-07-05 11:23:32,594 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:32,624 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : retrieve current ip list] ***************
2022-07-05 11:23:32,686 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:23:32,718 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : check if ip list needs updating] ********
2022-07-05 11:23:32,733 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:23:32,763 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : setting [health_manager]/controller_ip_port_list] ***
2022-07-05 11:23:33,446 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:33,473 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/tenant_log_targets] ***
2022-07-05 11:23:34,144 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:34,172 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/admin_log_targets] ***
2022-07-05 11:23:34,831 p=30987 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 11:23:34,859 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia services] ***
2022-07-05 11:23:35,511 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_api)
2022-07-05 11:23:36,130 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_worker)
2022-07-05 11:23:36,785 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_health_manager)
2022-07-05 11:23:37,422 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_housekeeping)
2022-07-05 11:23:38,071 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_driver_agent)
2022-07-05 11:23:38,100 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia services] ***************
2022-07-05 11:23:43,138 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_api', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', 'start': '2022-07-05 15:23:35.400578', 'end': '2022-07-05 15:23:35.414763', 'delta': '0:00:00.014185', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_api'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_api', 'ansible_loop_var': 'item'})
2022-07-05 11:23:45,482 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_worker', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', 'start': '2022-07-05 15:23:36.033274', 'end': '2022-07-05 15:23:36.048160', 'delta': '0:00:00.014886', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_worker'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_worker', 'ansible_loop_var': 'item'})
2022-07-05 11:23:48,586 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_health_manager', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', 'start': '2022-07-05 15:23:36.688896', 'end': '2022-07-05 15:23:36.701610', 'delta': '0:00:00.012714', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_health_manager'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_health_manager', 'ansible_loop_var': 'item'})
2022-07-05 11:23:50,573 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_housekeeping', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', 'start': '2022-07-05 15:23:37.328739', 'end': '2022-07-05 15:23:37.341244', 'delta': '0:00:00.012505', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_housekeeping'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_housekeeping', 'ansible_loop_var': 'item'})
2022-07-05 11:24:34,250 p=30987 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_driver_agent', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', 'start': '2022-07-05 15:23:37.985397', 'end': '2022-07-05 15:23:37.997611', 'delta': '0:00:00.012214', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_driver_agent'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_driver_agent', 'ansible_loop_var': 'item'})
2022-07-05 11:24:34,288 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia containers] ***
2022-07-05 11:24:34,302 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:24:34,332 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia containers] *************
2022-07-05 11:24:34,345 p=30987 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 11:24:34,371 p=30987 u=root n=ansible | TASK [octavia_controller_post_config : remove directory /etc/octavia/conf.d/common (LP#1836074)] ***
2022-07-05 11:24:35,008 p=30987 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 11:24:35,083 p=30987 u=root n=ansible | PLAY RECAP *********************************************************************
2022-07-05 11:24:35,084 p=30987 u=root n=ansible | overcloud-controller-0     : ok=99   changed=37   unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-07-05 11:24:35,084 p=30987 u=root n=ansible | tripleo-director           : ok=8    changed=2    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2022-07-05 19:04:17,998 p=352228 u=root n=ansible | PLAY [Undercloud[0]] ***********************************************************
2022-07-05 19:04:18,011 p=352228 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 19:04:23,005 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:23,031 p=352228 u=root n=ansible | TASK [octavia_undercloud : set file if already set by heat variable (backwards-compatibility)] ***
2022-07-05 19:04:23,059 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,070 p=352228 u=root n=ansible | TASK [octavia_undercloud : set location if CentOS] *****************************
2022-07-05 19:04:23,094 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:23,106 p=352228 u=root n=ansible | TASK [octavia_undercloud : set location if Red Hat] ****************************
2022-07-05 19:04:23,115 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,126 p=352228 u=root n=ansible | TASK [octavia_undercloud : check if amphora image file exists] *****************
2022-07-05 19:04:23,439 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:23,449 p=352228 u=root n=ansible | TASK [octavia_undercloud : include_tasks] **************************************
2022-07-05 19:04:23,489 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,506 p=352228 u=root n=ansible | TASK [octavia_undercloud : check if pub key file exists] ***********************
2022-07-05 19:04:23,550 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,570 p=352228 u=root n=ansible | TASK [octavia_undercloud : fail if ssh pub key file does not exist or is not readable] ***
2022-07-05 19:04:23,604 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,622 p=352228 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 19:04:23,654 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:23,665 p=352228 u=root n=ansible | TASK [octavia_undercloud : Create ssh key dir] *********************************
2022-07-05 19:04:24,005 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:24,015 p=352228 u=root n=ansible | TASK [octavia_undercloud : Generate ssh key for Octavia] ***********************
2022-07-05 19:04:24,360 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:24,372 p=352228 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-05 19:04:24,410 p=352228 u=root n=ansible | ok: [tripleo-director]
2022-07-05 19:04:24,422 p=352228 u=root n=ansible | TASK [octavia_undercloud : get the desired sha-256 public key fingerprint] *****
2022-07-05 19:04:24,636 p=352228 u=root n=ansible | changed: [tripleo-director]
2022-07-05 19:04:24,648 p=352228 u=root n=ansible | TASK [octavia_undercloud : get existing public key sha-256 fingerprint] ********
2022-07-05 19:04:27,409 p=352228 u=root n=ansible | changed: [tripleo-director]
2022-07-05 19:04:27,422 p=352228 u=root n=ansible | TASK [octavia_undercloud : delete previous Octavia ssh key] ********************
2022-07-05 19:04:27,454 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:27,473 p=352228 u=root n=ansible | TASK [octavia_undercloud : Create keypair] *************************************
2022-07-05 19:04:27,504 p=352228 u=root n=ansible | skipping: [tripleo-director]
2022-07-05 19:04:27,558 p=352228 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 19:04:27,566 p=352228 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 19:04:33,819 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:33,886 p=352228 u=root n=ansible | TASK [include_role : octavia_controller_check] *********************************
2022-07-05 19:04:33,963 p=352228 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA file exists on host] ******
2022-07-05 19:04:34,592 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:34,620 p=352228 u=root n=ansible | TASK [octavia_controller_check : Get CA file if exists] ************************
2022-07-05 19:04:35,390 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:35,414 p=352228 u=root n=ansible | TASK [octavia_controller_check : Store CA data] ********************************
2022-07-05 19:04:35,474 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:35,502 p=352228 u=root n=ansible | TASK [octavia_controller_check : Get remaining validity period of the CA] ******
2022-07-05 19:04:36,238 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:04:36,269 p=352228 u=root n=ansible | TASK [octavia_controller_check : Force CA update if remaining validity is less than 1 year] ***
2022-07-05 19:04:36,309 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:04:36,337 p=352228 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA private key exists on host] ***
2022-07-05 19:04:36,995 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:37,024 p=352228 u=root n=ansible | TASK [octavia_controller_check : Get CA private key file if exists] ************
2022-07-05 19:04:37,707 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:37,740 p=352228 u=root n=ansible | TASK [octavia_controller_check : Store CA private key] *************************
2022-07-05 19:04:37,821 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:37,837 p=352228 u=root n=ansible | TASK [octavia_controller_check : Detect if key is encrypted with AES256] *******
2022-07-05 19:04:38,455 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:04:38,483 p=352228 u=root n=ansible | TASK [octavia_controller_check : Store flag if a private key update is required] ***
2022-07-05 19:04:38,570 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:38,599 p=352228 u=root n=ansible | TASK [octavia_controller_check : Check if octavia client certificate exists on host] ***
2022-07-05 19:04:39,239 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:39,267 p=352228 u=root n=ansible | TASK [octavia_controller_check : Get client certificate file if exists] ********
2022-07-05 19:04:39,907 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:39,934 p=352228 u=root n=ansible | TASK [octavia_controller_check : Store client certificate data] ****************
2022-07-05 19:04:39,999 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:40,055 p=352228 u=root n=ansible | PLAY [octavia_nodes[0]] ********************************************************
2022-07-05 19:04:40,089 p=352228 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 19:04:45,850 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:45,920 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 19:04:45,951 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/network.yml for overcloud-controller-0
2022-07-05 19:04:45,967 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create management network for load balancers] ***
2022-07-05 19:04:48,653 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:48,682 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : getting management network ID] ****************
2022-07-05 19:04:51,584 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:51,611 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : setting management network ID fact] ***********
2022-07-05 19:04:51,658 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:51,686 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create subnet] ********************************
2022-07-05 19:04:55,580 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:04:55,607 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group (get the security group id)] ***
2022-07-05 19:05:00,078 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:00,108 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : setting fact for management network security group] ***
2022-07-05 19:05:00,146 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:00,173 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management ssh port] ***
2022-07-05 19:05:03,108 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:03,135 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management API port] ***
2022-07-05 19:05:05,399 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:05,428 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group for health manager] *****
2022-07-05 19:05:09,264 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:09,295 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for health manager] ***
2022-07-05 19:05:12,182 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:12,211 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for log offloading] ***
2022-07-05 19:05:14,184 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:14,224 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 19:05:14,262 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/quotas.yml for overcloud-controller-0
2022-07-05 19:05:14,285 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : increase quotas for project used for amphora] ***
2022-07-05 19:05:17,333 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:17,361 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 19:05:17,400 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/flavor.yml for overcloud-controller-0
2022-07-05 19:05:17,435 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create nova flavor for Octavia] ***************
2022-07-05 19:05:20,570 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:20,596 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : gather all of the CAs] ************************
2022-07-05 19:05:20,713 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:20,746 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : count unique CAs and keys] ********************
2022-07-05 19:05:20,808 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:20,836 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : fail if CA or private key do not match in all Octavia nodes] ***
2022-07-05 19:05:20,870 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:05:20,899 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : fail if the number of CA and private key doesn't match] ***
2022-07-05 19:05:20,946 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:05:20,973 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : record cert so others can use it] *************
2022-07-05 19:05:21,044 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:21,072 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : disable CA generation] ************************
2022-07-05 19:05:21,139 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:21,168 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : don't update certificates if CA is present on all octavia nodes] ***
2022-07-05 19:05:21,203 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:05:21,232 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-05 19:05:21,317 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml for overcloud-controller-0
2022-07-05 19:05:21,345 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : delete temporary ssl directory] ***************
2022-07-05 19:05:21,998 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:22,027 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl directories] *************
2022-07-05 19:05:22,711 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:22,742 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl newcerts directory] ******
2022-07-05 19:05:23,359 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:23,390 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create index.txt] *****************************
2022-07-05 19:05:24,846 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:24,879 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create serial file] ***************************
2022-07-05 19:05:26,061 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:26,090 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : create openssl configuration file from template] ***
2022-07-05 19:05:27,292 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:27,320 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority private key] ***
2022-07-05 19:05:27,361 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:05:27,389 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 19:05:27,427 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:05:27,455 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-05 19:05:28,665 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:28,692 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Update CA private key] ************************
2022-07-05 19:05:29,355 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:29,384 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Reading private key] **************************
2022-07-05 19:05:30,036 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:30,065 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Setting private key fact] *********************
2022-07-05 19:05:30,103 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:30,135 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority certificate] ***
2022-07-05 19:05:30,786 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:30,818 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Reading CA certificate] ***********************
2022-07-05 19:05:31,517 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:31,545 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Setting CA certificate fact] ******************
2022-07-05 19:05:31,583 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:31,611 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Generating service private key & certificate request] ***
2022-07-05 19:05:32,752 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:32,780 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Signing service certificate request] **********
2022-07-05 19:05:33,417 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:33,445 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Read service private key and public certifcate] ***
2022-07-05 19:05:34,081 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:34,109 p=352228 u=root n=ansible | TASK [octavia_overcloud_config : Set service key fact] *************************
2022-07-05 19:05:34,153 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:34,200 p=352228 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 19:05:34,215 p=352228 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 19:05:40,490 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:40,561 p=352228 u=root n=ansible | TASK [octavia_controller_config : Set node name fact] **************************
2022-07-05 19:05:40,599 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:40,618 p=352228 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 19:05:40,695 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/certificate.yml for overcloud-controller-0
2022-07-05 19:05:40,724 p=352228 u=root n=ansible | TASK [octavia_controller_config : making sure octavia worker configuration directory exists] ***
2022-07-05 19:05:41,373 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:41,403 p=352228 u=root n=ansible | TASK [octavia_controller_config : Copying key info to octavia if not already there] ***
2022-07-05 19:05:42,657 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 19:05:43,901 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 19:05:45,102 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-05 19:05:45,104 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:45,131 p=352228 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 19:05:45,177 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netport.yml for overcloud-controller-0
2022-07-05 19:05:45,192 p=352228 u=root n=ansible | TASK [octavia_controller_config : create management port] **********************
2022-07-05 19:05:47,416 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:47,443 p=352228 u=root n=ansible | TASK [octavia_controller_config : getting management port] *********************
2022-07-05 19:05:49,749 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:49,777 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port ID] ***
2022-07-05 19:05:49,853 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:49,882 p=352228 u=root n=ansible | TASK [octavia_controller_config : get management port mac] *********************
2022-07-05 19:05:52,064 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:52,092 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port MAC] ***
2022-07-05 19:05:52,172 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:52,199 p=352228 u=root n=ansible | TASK [octavia_controller_config : get fixed ip info] ***************************
2022-07-05 19:05:54,426 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:54,454 p=352228 u=root n=ansible | TASK [octavia_controller_config : get management port detail result] ***********
2022-07-05 19:05:54,551 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:54,581 p=352228 u=root n=ansible | TASK [octavia_controller_config : parse management port details] ***************
2022-07-05 19:05:54,674 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:54,700 p=352228 u=root n=ansible | TASK [octavia_controller_config : get management port net mask] ****************
2022-07-05 19:05:56,940 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:56,969 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting fact for management subnet cidr] *****
2022-07-05 19:05:57,015 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:57,044 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network netmask] ***
2022-07-05 19:05:57,121 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:57,150 p=352228 u=root n=ansible | TASK [octavia_controller_config : get MTU for management port] *****************
2022-07-05 19:05:59,818 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:05:59,846 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting fact for management port MTU] ********
2022-07-05 19:05:59,885 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:59,913 p=352228 u=root n=ansible | TASK [octavia_controller_config : creating fact for management network health manager controller IP] ***
2022-07-05 19:05:59,951 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:05:59,980 p=352228 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 19:06:00,018 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netinterface.yml for overcloud-controller-0
2022-07-05 19:06:00,036 p=352228 u=root n=ansible | TASK [octavia_controller_config : create br-int interface file] ****************
2022-07-05 19:06:00,703 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:00,731 p=352228 u=root n=ansible | TASK [octavia_controller_config : create octavia management interface] *********
2022-07-05 19:06:01,798 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:01,826 p=352228 u=root n=ansible | TASK [octavia_controller_config : Bring the management port interface up] ******
2022-07-05 19:06:01,865 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:06:01,894 p=352228 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-05 19:06:01,938 p=352228 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/octavia.yml for overcloud-controller-0
2022-07-05 19:06:01,957 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_boot_network_list] ***
2022-07-05 19:06:02,786 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:02,814 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_secgroup_list] ***
2022-07-05 19:06:03,481 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:03,509 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting [health_manager]/bind_ip] ************
2022-07-05 19:06:04,128 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:04,156 p=352228 u=root n=ansible | TASK [octavia_controller_config : gather facts about the service project] ******
2022-07-05 19:06:06,295 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:06,324 p=352228 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_image_owner_id] ***
2022-07-05 19:06:06,974 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:07,031 p=352228 u=root n=ansible | RUNNING HANDLER [octavia_controller_config : octavia config updated] ***********
2022-07-05 19:06:07,084 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:07,106 p=352228 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-05 19:06:07,129 p=352228 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-05 19:06:13,011 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:13,094 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : Show debug information] *****************
2022-07-05 19:06:13,129 p=352228 u=root n=ansible | ok: [overcloud-controller-0] => {
    "msg": "Octavia services will be restarted because of updated configuration"
}
2022-07-05 19:06:13,149 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create ip list] *************************
2022-07-05 19:06:13,208 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:13,235 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters)] ***
2022-07-05 19:06:13,261 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:13,290 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (rsyslog)] ***************
2022-07-05 19:06:13,365 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:13,393 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters) (rsyslog)] ***
2022-07-05 19:06:13,439 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:13,467 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create /etc/rsyslog.d] ******************
2022-07-05 19:06:14,179 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:14,207 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : create rsyslog 10-octavia.conf] *********
2022-07-05 19:06:15,285 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:15,314 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : check if octavia rsyslog is running] ****
2022-07-05 19:06:15,966 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:15,994 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia rsyslog service] ********
2022-07-05 19:06:18,657 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:18,685 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : read the current IP list] ***************
2022-07-05 19:06:19,307 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:19,335 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : retrieve current ip list] ***************
2022-07-05 19:06:19,436 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:06:19,465 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : check if ip list needs updating] ********
2022-07-05 19:06:19,479 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:06:19,507 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : setting [health_manager]/controller_ip_port_list] ***
2022-07-05 19:06:20,133 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:20,154 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/tenant_log_targets] ***
2022-07-05 19:06:20,783 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:20,811 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/admin_log_targets] ***
2022-07-05 19:06:21,498 p=352228 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-05 19:06:21,526 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia services] ***
2022-07-05 19:06:22,180 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_api)
2022-07-05 19:06:22,888 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_worker)
2022-07-05 19:06:23,550 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_health_manager)
2022-07-05 19:06:24,188 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_housekeeping)
2022-07-05 19:06:24,810 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_driver_agent)
2022-07-05 19:06:24,840 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia services] ***************
2022-07-05 19:06:29,515 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_api', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', 'start': '2022-07-05 23:06:22.087560', 'end': '2022-07-05 23:06:22.100631', 'delta': '0:00:00.013071', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_api'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_api', 'ansible_loop_var': 'item'})
2022-07-05 19:06:31,997 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_worker', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', 'start': '2022-07-05 23:06:22.787095', 'end': '2022-07-05 23:06:22.799550', 'delta': '0:00:00.012455', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_worker'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_worker', 'ansible_loop_var': 'item'})
2022-07-05 19:06:34,256 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_health_manager', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', 'start': '2022-07-05 23:06:23.450735', 'end': '2022-07-05 23:06:23.466365', 'delta': '0:00:00.015630', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_health_manager'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_health_manager', 'ansible_loop_var': 'item'})
2022-07-05 19:06:36,266 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_housekeeping', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', 'start': '2022-07-05 23:06:24.098619', 'end': '2022-07-05 23:06:24.112142', 'delta': '0:00:00.013523', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_housekeeping'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_housekeeping', 'ansible_loop_var': 'item'})
2022-07-05 19:07:19,804 p=352228 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_driver_agent', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', 'start': '2022-07-05 23:06:24.724909', 'end': '2022-07-05 23:06:24.736559', 'delta': '0:00:00.011650', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_driver_agent'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_driver_agent', 'ansible_loop_var': 'item'})
2022-07-05 19:07:19,843 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia containers] ***
2022-07-05 19:07:19,862 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:07:19,884 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia containers] *************
2022-07-05 19:07:19,899 p=352228 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-05 19:07:19,916 p=352228 u=root n=ansible | TASK [octavia_controller_post_config : remove directory /etc/octavia/conf.d/common (LP#1836074)] ***
2022-07-05 19:07:20,534 p=352228 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-05 19:07:20,611 p=352228 u=root n=ansible | PLAY RECAP *********************************************************************
2022-07-05 19:07:20,611 p=352228 u=root n=ansible | overcloud-controller-0     : ok=100  changed=38   unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   
2022-07-05 19:07:20,611 p=352228 u=root n=ansible | tripleo-director           : ok=8    changed=2    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2022-07-06 04:01:42,992 p=721431 u=root n=ansible | PLAY [Undercloud[0]] ***********************************************************
2022-07-06 04:01:43,004 p=721431 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-06 04:01:48,054 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:48,102 p=721431 u=root n=ansible | TASK [octavia_undercloud : set file if already set by heat variable (backwards-compatibility)] ***
2022-07-06 04:01:48,152 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,174 p=721431 u=root n=ansible | TASK [octavia_undercloud : set location if CentOS] *****************************
2022-07-06 04:01:48,218 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:48,235 p=721431 u=root n=ansible | TASK [octavia_undercloud : set location if Red Hat] ****************************
2022-07-06 04:01:48,250 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,268 p=721431 u=root n=ansible | TASK [octavia_undercloud : check if amphora image file exists] *****************
2022-07-06 04:01:48,574 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:48,591 p=721431 u=root n=ansible | TASK [octavia_undercloud : include_tasks] **************************************
2022-07-06 04:01:48,614 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,628 p=721431 u=root n=ansible | TASK [octavia_undercloud : check if pub key file exists] ***********************
2022-07-06 04:01:48,660 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,672 p=721431 u=root n=ansible | TASK [octavia_undercloud : fail if ssh pub key file does not exist or is not readable] ***
2022-07-06 04:01:48,707 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,726 p=721431 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-06 04:01:48,761 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:48,779 p=721431 u=root n=ansible | TASK [octavia_undercloud : Create ssh key dir] *********************************
2022-07-06 04:01:49,114 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:49,133 p=721431 u=root n=ansible | TASK [octavia_undercloud : Generate ssh key for Octavia] ***********************
2022-07-06 04:01:49,456 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:49,475 p=721431 u=root n=ansible | TASK [octavia_undercloud : Set ssh key path fact] ******************************
2022-07-06 04:01:49,519 p=721431 u=root n=ansible | ok: [tripleo-director]
2022-07-06 04:01:49,539 p=721431 u=root n=ansible | TASK [octavia_undercloud : get the desired sha-256 public key fingerprint] *****
2022-07-06 04:01:49,774 p=721431 u=root n=ansible | changed: [tripleo-director]
2022-07-06 04:01:49,801 p=721431 u=root n=ansible | TASK [octavia_undercloud : get existing public key sha-256 fingerprint] ********
2022-07-06 04:01:52,627 p=721431 u=root n=ansible | changed: [tripleo-director]
2022-07-06 04:01:52,637 p=721431 u=root n=ansible | TASK [octavia_undercloud : delete previous Octavia ssh key] ********************
2022-07-06 04:01:52,680 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:52,698 p=721431 u=root n=ansible | TASK [octavia_undercloud : Create keypair] *************************************
2022-07-06 04:01:52,740 p=721431 u=root n=ansible | skipping: [tripleo-director]
2022-07-06 04:01:52,792 p=721431 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-06 04:01:52,802 p=721431 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-06 04:01:58,970 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:01:59,004 p=721431 u=root n=ansible | TASK [include_role : octavia_controller_check] *********************************
2022-07-06 04:01:59,168 p=721431 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA file exists on host] ******
2022-07-06 04:01:59,783 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:01:59,811 p=721431 u=root n=ansible | TASK [octavia_controller_check : Get CA file if exists] ************************
2022-07-06 04:02:00,588 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:00,615 p=721431 u=root n=ansible | TASK [octavia_controller_check : Store CA data] ********************************
2022-07-06 04:02:00,683 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:00,710 p=721431 u=root n=ansible | TASK [octavia_controller_check : Get remaining validity period of the CA] ******
2022-07-06 04:02:01,478 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:01,516 p=721431 u=root n=ansible | TASK [octavia_controller_check : Force CA update if remaining validity is less than 1 year] ***
2022-07-06 04:02:01,558 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:01,573 p=721431 u=root n=ansible | TASK [octavia_controller_check : Check if octavia CA private key exists on host] ***
2022-07-06 04:02:02,251 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:02,278 p=721431 u=root n=ansible | TASK [octavia_controller_check : Get CA private key file if exists] ************
2022-07-06 04:02:02,965 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:02,994 p=721431 u=root n=ansible | TASK [octavia_controller_check : Store CA private key] *************************
2022-07-06 04:02:03,083 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:03,116 p=721431 u=root n=ansible | TASK [octavia_controller_check : Detect if key is encrypted with AES256] *******
2022-07-06 04:02:03,765 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:03,792 p=721431 u=root n=ansible | TASK [octavia_controller_check : Store flag if a private key update is required] ***
2022-07-06 04:02:03,885 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:03,912 p=721431 u=root n=ansible | TASK [octavia_controller_check : Check if octavia client certificate exists on host] ***
2022-07-06 04:02:04,553 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:04,580 p=721431 u=root n=ansible | TASK [octavia_controller_check : Get client certificate file if exists] ********
2022-07-06 04:02:05,245 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:05,272 p=721431 u=root n=ansible | TASK [octavia_controller_check : Store client certificate data] ****************
2022-07-06 04:02:05,334 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:05,408 p=721431 u=root n=ansible | PLAY [octavia_nodes[0]] ********************************************************
2022-07-06 04:02:05,425 p=721431 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-06 04:02:11,448 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:11,517 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-06 04:02:11,549 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/network.yml for overcloud-controller-0
2022-07-06 04:02:11,566 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create management network for load balancers] ***
2022-07-06 04:02:14,593 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:14,621 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : getting management network ID] ****************
2022-07-06 04:02:17,640 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:17,668 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : setting management network ID fact] ***********
2022-07-06 04:02:17,705 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:17,732 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create subnet] ********************************
2022-07-06 04:02:21,588 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:21,606 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group (get the security group id)] ***
2022-07-06 04:02:26,070 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:26,097 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : setting fact for management network security group] ***
2022-07-06 04:02:26,137 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:26,164 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management ssh port] ***
2022-07-06 04:02:29,024 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:29,053 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule to open amphora management API port] ***
2022-07-06 04:02:31,870 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:31,898 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group for health manager] *****
2022-07-06 04:02:36,369 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:36,396 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for health manager] ***
2022-07-06 04:02:38,642 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:38,670 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create security group rule for log offloading] ***
2022-07-06 04:02:40,606 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:40,634 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-06 04:02:40,674 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/quotas.yml for overcloud-controller-0
2022-07-06 04:02:40,692 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : increase quotas for project used for amphora] ***
2022-07-06 04:02:43,603 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:43,630 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-06 04:02:43,668 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/flavor.yml for overcloud-controller-0
2022-07-06 04:02:43,695 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create nova flavor for Octavia] ***************
2022-07-06 04:02:46,689 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:46,718 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : gather all of the CAs] ************************
2022-07-06 04:02:46,835 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:46,863 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : count unique CAs and keys] ********************
2022-07-06 04:02:46,916 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:46,943 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : fail if CA or private key do not match in all Octavia nodes] ***
2022-07-06 04:02:46,988 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:47,018 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : fail if the number of CA and private key doesn't match] ***
2022-07-06 04:02:47,066 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:47,093 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : record cert so others can use it] *************
2022-07-06 04:02:47,162 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:47,201 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : disable CA generation] ************************
2022-07-06 04:02:47,268 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:47,297 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : don't update certificates if CA is present on all octavia nodes] ***
2022-07-06 04:02:47,355 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:47,389 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : include_tasks] ********************************
2022-07-06 04:02:47,479 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml for overcloud-controller-0
2022-07-06 04:02:47,518 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : delete temporary ssl directory] ***************
2022-07-06 04:02:48,171 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:48,199 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl directories] *************
2022-07-06 04:02:48,853 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:48,885 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create temporary ssl newcerts directory] ******
2022-07-06 04:02:49,527 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:49,561 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create index.txt] *****************************
2022-07-06 04:02:50,867 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:50,894 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create serial file] ***************************
2022-07-06 04:02:52,047 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:52,068 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : create openssl configuration file from template] ***
2022-07-06 04:02:53,264 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:53,286 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority private key] ***
2022-07-06 04:02:53,321 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:53,337 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-06 04:02:53,368 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:02:53,393 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Write previous CA private key] ****************
2022-07-06 04:02:54,599 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:54,626 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Update CA private key] ************************
2022-07-06 04:02:55,284 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:55,312 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Reading private key] **************************
2022-07-06 04:02:55,932 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:55,960 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Setting private key fact] *********************
2022-07-06 04:02:56,004 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:56,031 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Generating certificate authority certificate] ***
2022-07-06 04:02:56,688 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:56,715 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Reading CA certificate] ***********************
2022-07-06 04:02:57,338 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:57,366 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Setting CA certificate fact] ******************
2022-07-06 04:02:57,406 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:02:57,433 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Generating service private key & certificate request] ***
2022-07-06 04:02:58,522 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:58,553 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Signing service certificate request] **********
2022-07-06 04:02:59,263 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:59,292 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Read service private key and public certifcate] ***
2022-07-06 04:02:59,914 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:02:59,941 p=721431 u=root n=ansible | TASK [octavia_overcloud_config : Set service key fact] *************************
2022-07-06 04:03:00,024 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:00,097 p=721431 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-06 04:03:00,122 p=721431 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-06 04:03:06,210 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:06,273 p=721431 u=root n=ansible | TASK [octavia_controller_config : Set node name fact] **************************
2022-07-06 04:03:06,312 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:06,340 p=721431 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-06 04:03:06,418 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/certificate.yml for overcloud-controller-0
2022-07-06 04:03:06,443 p=721431 u=root n=ansible | TASK [octavia_controller_config : making sure octavia worker configuration directory exists] ***
2022-07-06 04:03:07,142 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:07,171 p=721431 u=root n=ansible | TASK [octavia_controller_config : Copying key info to octavia if not already there] ***
2022-07-06 04:03:08,542 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-06 04:03:09,738 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-06 04:03:10,908 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=None)
2022-07-06 04:03:10,909 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:10,927 p=721431 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-06 04:03:10,969 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netport.yml for overcloud-controller-0
2022-07-06 04:03:10,995 p=721431 u=root n=ansible | TASK [octavia_controller_config : create management port] **********************
2022-07-06 04:03:13,326 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:13,354 p=721431 u=root n=ansible | TASK [octavia_controller_config : getting management port] *********************
2022-07-06 04:03:15,624 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:15,651 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port ID] ***
2022-07-06 04:03:15,689 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:15,716 p=721431 u=root n=ansible | TASK [octavia_controller_config : get management port mac] *********************
2022-07-06 04:03:17,940 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:17,970 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network controller port MAC] ***
2022-07-06 04:03:18,030 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:18,059 p=721431 u=root n=ansible | TASK [octavia_controller_config : get fixed ip info] ***************************
2022-07-06 04:03:20,208 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:20,236 p=721431 u=root n=ansible | TASK [octavia_controller_config : get management port detail result] ***********
2022-07-06 04:03:20,289 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:20,316 p=721431 u=root n=ansible | TASK [octavia_controller_config : parse management port details] ***************
2022-07-06 04:03:20,386 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:20,414 p=721431 u=root n=ansible | TASK [octavia_controller_config : get management port net mask] ****************
2022-07-06 04:03:22,687 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:22,719 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting fact for management subnet cidr] *****
2022-07-06 04:03:22,787 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:22,816 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting fact for management network netmask] ***
2022-07-06 04:03:22,898 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:22,918 p=721431 u=root n=ansible | TASK [octavia_controller_config : get MTU for management port] *****************
2022-07-06 04:03:25,161 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:25,192 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting fact for management port MTU] ********
2022-07-06 04:03:25,233 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:25,260 p=721431 u=root n=ansible | TASK [octavia_controller_config : creating fact for management network health manager controller IP] ***
2022-07-06 04:03:25,299 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:25,327 p=721431 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-06 04:03:25,366 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/netinterface.yml for overcloud-controller-0
2022-07-06 04:03:25,383 p=721431 u=root n=ansible | TASK [octavia_controller_config : create br-int interface file] ****************
2022-07-06 04:03:26,054 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:26,085 p=721431 u=root n=ansible | TASK [octavia_controller_config : create octavia management interface] *********
2022-07-06 04:03:27,201 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:27,230 p=721431 u=root n=ansible | TASK [octavia_controller_config : Bring the management port interface up] ******
2022-07-06 04:03:27,270 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:03:27,301 p=721431 u=root n=ansible | TASK [octavia_controller_config : include_tasks] *******************************
2022-07-06 04:03:27,335 p=721431 u=root n=ansible | included: /usr/share/ansible/roles/octavia_controller_config/tasks/octavia.yml for overcloud-controller-0
2022-07-06 04:03:27,381 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_boot_network_list] ***
2022-07-06 04:03:28,103 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:28,135 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_secgroup_list] ***
2022-07-06 04:03:28,765 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:28,794 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting [health_manager]/bind_ip] ************
2022-07-06 04:03:29,462 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:29,490 p=721431 u=root n=ansible | TASK [octavia_controller_config : gather facts about the service project] ******
2022-07-06 04:03:31,715 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:31,743 p=721431 u=root n=ansible | TASK [octavia_controller_config : setting [controller_worker]/amp_image_owner_id] ***
2022-07-06 04:03:32,374 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:32,429 p=721431 u=root n=ansible | RUNNING HANDLER [octavia_controller_config : octavia config updated] ***********
2022-07-06 04:03:32,490 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:32,521 p=721431 u=root n=ansible | PLAY [octavia_nodes] ***********************************************************
2022-07-06 04:03:32,549 p=721431 u=root n=ansible | TASK [Gathering Facts] *********************************************************
2022-07-06 04:03:38,362 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:38,438 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : Show debug information] *****************
2022-07-06 04:03:38,475 p=721431 u=root n=ansible | ok: [overcloud-controller-0] => {
    "msg": "Octavia services will be restarted because of updated configuration"
}
2022-07-06 04:03:38,489 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create ip list] *************************
2022-07-06 04:03:38,541 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:38,570 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters)] ***
2022-07-06 04:03:38,605 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:38,634 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (rsyslog)] ***************
2022-07-06 04:03:38,706 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:38,734 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create ip list (remove the last two characters) (rsyslog)] ***
2022-07-06 04:03:38,779 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:38,807 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create /etc/rsyslog.d] ******************
2022-07-06 04:03:39,461 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:39,488 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : create rsyslog 10-octavia.conf] *********
2022-07-06 04:03:40,586 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:40,607 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : check if octavia rsyslog is running] ****
2022-07-06 04:03:41,249 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:41,277 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia rsyslog service] ********
2022-07-06 04:03:43,992 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:44,020 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : read the current IP list] ***************
2022-07-06 04:03:44,650 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:44,678 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : retrieve current ip list] ***************
2022-07-06 04:03:44,736 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:03:44,765 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : check if ip list needs updating] ********
2022-07-06 04:03:44,779 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:03:44,809 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : setting [health_manager]/controller_ip_port_list] ***
2022-07-06 04:03:45,450 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:45,478 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/tenant_log_targets] ***
2022-07-06 04:03:46,131 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:46,161 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : setting [amphora_agent]/admin_log_targets] ***
2022-07-06 04:03:46,850 p=721431 u=root n=ansible | changed: [overcloud-controller-0]
2022-07-06 04:03:46,878 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia services] ***
2022-07-06 04:03:47,557 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_api)
2022-07-06 04:03:48,174 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_worker)
2022-07-06 04:03:48,829 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_health_manager)
2022-07-06 04:03:49,464 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_housekeeping)
2022-07-06 04:03:50,085 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item=tripleo_octavia_driver_agent)
2022-07-06 04:03:50,115 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia services] ***************
2022-07-06 04:03:54,895 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_api', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', 'start': '2022-07-06 08:03:47.464278', 'end': '2022-07-06 08:03:47.478053', 'delta': '0:00:00.013775', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_api && echo tripleo_octavia_api\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_api'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_api', 'ansible_loop_var': 'item'})
2022-07-06 04:03:57,524 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_worker', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', 'start': '2022-07-06 08:03:48.082039', 'end': '2022-07-06 08:03:48.093195', 'delta': '0:00:00.011156', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_worker && echo tripleo_octavia_worker\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_worker'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_worker', 'ansible_loop_var': 'item'})
2022-07-06 04:04:00,439 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_health_manager', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', 'start': '2022-07-06 08:03:48.712072', 'end': '2022-07-06 08:03:48.740932', 'delta': '0:00:00.028860', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_health_manager && echo tripleo_octavia_health_manager\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_health_manager'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_health_manager', 'ansible_loop_var': 'item'})
2022-07-06 04:04:02,308 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_housekeeping', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', 'start': '2022-07-06 08:03:49.371988', 'end': '2022-07-06 08:03:49.384273', 'delta': '0:00:00.012285', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_housekeeping && echo tripleo_octavia_housekeeping\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_housekeeping'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_housekeeping', 'ansible_loop_var': 'item'})
2022-07-06 04:04:45,991 p=721431 u=root n=ansible | changed: [overcloud-controller-0] => (item={'changed': True, 'stdout': 'tripleo_octavia_driver_agent', 'stderr': '', 'rc': 0, 'cmd': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', 'start': '2022-07-06 08:03:49.995033', 'end': '2022-07-06 08:03:50.006783', 'delta': '0:00:00.011750', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'systemctl is-active --quiet tripleo_octavia_driver_agent && echo tripleo_octavia_driver_agent\n', '_uses_shell': True, 'warn': False, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['tripleo_octavia_driver_agent'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': 'tripleo_octavia_driver_agent', 'ansible_loop_var': 'item'})
2022-07-06 04:04:46,028 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : get list of running octavia containers] ***
2022-07-06 04:04:46,042 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:04:46,071 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : restart octavia containers] *************
2022-07-06 04:04:46,084 p=721431 u=root n=ansible | skipping: [overcloud-controller-0]
2022-07-06 04:04:46,113 p=721431 u=root n=ansible | TASK [octavia_controller_post_config : remove directory /etc/octavia/conf.d/common (LP#1836074)] ***
2022-07-06 04:04:46,777 p=721431 u=root n=ansible | ok: [overcloud-controller-0]
2022-07-06 04:04:46,854 p=721431 u=root n=ansible | PLAY RECAP *********************************************************************
2022-07-06 04:04:46,854 p=721431 u=root n=ansible | overcloud-controller-0     : ok=100  changed=38   unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   
2022-07-06 04:04:46,854 p=721431 u=root n=ansible | tripleo-director           : ok=8    changed=2    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
